<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<th:block th:fragment="header">
    <header class="row">
        <div class="col"><h1 id="logo" class="fw-bold text-primary">The Box</h1></div>
        <div class="col text-end" th:with="path=${#request.getRequestURI()}">
        <th:block th:if="${not #strings.startsWith(path, '/join')}">
            <th:block th:if="${#strings.isEmpty(session.UID)}">
                 <button type="button" class="btn btn-danger mt-2" data-bs-target="#loginfrm" data-bs-toggle="modal">로그인</button>
                 <button type="button" class="btn btn-primary mt-2" id="signupbtn">회원가입</button>
            </th:block>

            <th:block th:if="${not #strings.isEmpty(session.UID)}">
                <button type="button" class="btn btn-dark mt-2" id="lgoutbtn">로그아웃</button>
                <th:block th:if="${session.UID} eq 'admin'">
                    <button type="button" class="btn btn-success mt-2"><a th:href="|/adminindex|" style="text-decoration: none; color: white;">관리자</a></button>
                </th:block>
                <th:block th:if="${session.UID} ne 'admin'">
                    <button type="button" class="btn btn-success mt-2"><a th:href="|/mypage/mymoti?userid=${session.UID}|" style="text-decoration: none; color: white;">회원정보</a></button>
                </th:block>
            </th:block>
        </th:block>
        </div>
    </header>
    <nav class="navbar navbar-expand navbar-light bg-primary">
        <ul class="navbar-nav w-100">
            <li class="nav-item offset-5 col-1"><a href="/movie/all" class="nav-link text-primary fw-bold fs-5">영화</a></li>
            <li class="nav-item"><a href="/ticket/ticketing" class="nav-link text-primary fw-bold fs-5">예매</a></li>
        </ul>
    </nav>
</th:block>
</html>